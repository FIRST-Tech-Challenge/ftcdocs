Phone Pairing
=============

Introduction
------------

The Robot Controller and Driver Station apps are extremely
reliable for pairing, including between **all models of legal
phones**. Please see the `Competition Manual <https://ftc-resources.firstinspires.org/ftc/game/manual>`__
for list of phone models currently legal to use at *FIRST*
Tech Challenge events.

When the Android phones have been suitably prepared, pairing via Wi-Fi
Direct is **fast** and usually **automatic**. Here is a procedure that
addresses various **pre-existing conditions** that can impede pairing.

This article does not cover the REV Control Hub or REV Driver Hub.

Phone Cleanup and Prep
----------------------

1. On RC phone: if needed, select Settings/Accounts/Google/select/3 dots/Remove
   account/confirm. Repeat for any other accounts. Also remove any non-*FIRST*
   Tech Challenge apps/games that might run in the background or attempt
   updates.

2. On RC phone: force quit (swipe away) all apps, including the RC app.

3. RC phone, Apps/Settings/Wi-Fi. Manually select and Forget any saved
   Networks.

4. RC phone, still in WiFi menu: navigate to Wi-Fi Direct menu (via More
   Settings or Advanced).

-  Select and forget/disconnect any connections with Peer Devices,
   including the current phone pairing. This may take a few tries;
   OK to give up if disconnect not acknowledged.

   -  If the top item shows ‘Created Group’, Disconnect it.
   -  If you inadvertently create an Invitation pop-up on the other
      phone, Decline on the other phone and Cancel on this phone. In
      rare cases, the Invite prompt is underneath any open windows on
      the RC phone.
   -  Pairing will be done later in the apps; see below.

-  Select and Forget all Remembered Groups, including ANY phone
   pairings. (This can also be done from Advanced RC Settings from
   either app.) Your goal after steps d1 and d2: ‘Not visible’, no
   ‘Peer devices’, no ‘Remembered groups’.

-  If needed, Rename/Configure the phone to a legal name,
   per the `Competition Manual <https://ftc-resources.firstinspires.org/ftc/game/manual>`__
   (This can also be done from Settings in each app.)

-  Configure device/Limit 2 devices,
   ‘Inactivity timeout’ Never, check box ‘Auto connect remembered
   groups’. (Note: timeout is not persistent, re-check occasionally.)

5. Force quit to device home screen. Swipe down twice from top, do this
   in order:

-  Airplane Mode ON
-  Wi-Fi ON (usually toggles off when Airplane Mode is turned on), then
   Done
-  Bluetooth OFF
-  Location OFF, only for Android 7.x

6. repeat above steps on DS phone.


Pairing
-------

1. On RC phone: open the current season’s RC app. Check
   Self Inspect for any RC issues.

2. On DS phone: open the current season’s DS app. Check Self Inspect 
   for any DS issues.

3. On DS phone: Menu (3 dots)/Settings. Confirm ‘Pairing Method’ is
   Wi-Fi Direct. Open ‘Pair with Robot Controller’. (Do not pair using
   phone/Android menu.)

4. Filter can remain on, be patient and wait for the app to find the
   matching device. Or turn off Filter to see all devices within a few
   seconds. Choose the corresponding RC phone, touch Back, and Back
   again to return to the DS home screen.

5. Look at RC phone, accept the Invitation there. In rare cases, the
   Invite prompt is underneath any open windows on the RC phone. Pairing
   will happen within seconds.

Summary
-------

The above procedure may seem long, but it covers conditions that should
not have been present in the first place. Going forward, pairing will be
**fast and reliable – usually automatic**.

=============

Questions, comments and corrections to westsiderobotics@verizon.net
